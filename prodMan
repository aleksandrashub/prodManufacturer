--
-- PostgreSQL database dump
--

-- Dumped from database version 12.20
-- Dumped by pg_dump version 16.4

-- Started on 2024-09-27 07:57:24

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 10 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA public;


ALTER SCHEMA public OWNER TO postgres;

--
-- TOC entry 3026 (class 0 OID 0)
-- Dependencies: 10
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA public IS 'standard public schema';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 273 (class 1259 OID 17324)
-- Name: dop_imgs; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.dop_imgs (
    id_tovar integer,
    name_img character varying,
    id_dop_img integer NOT NULL
);


ALTER TABLE public.dop_imgs OWNER TO postgres;

--
-- TOC entry 272 (class 1259 OID 17322)
-- Name: dop_imgs_id_dop_img_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.dop_imgs ALTER COLUMN id_dop_img ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.dop_imgs_id_dop_img_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 211 (class 1259 OID 16500)
-- Name: manufacturer; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.manufacturer (
    id_manufacturer integer NOT NULL,
    name_manufacturer character varying
);


ALTER TABLE public.manufacturer OWNER TO postgres;

--
-- TOC entry 205 (class 1259 OID 16488)
-- Name: manufacturer_id_manufacturer_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.manufacturer_id_manufacturer_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE public.manufacturer_id_manufacturer_seq OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 16498)
-- Name: manufacturer_id_manufacturer_seq1; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.manufacturer ALTER COLUMN id_manufacturer ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.manufacturer_id_manufacturer_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 206 (class 1259 OID 16490)
-- Name: newtable_id_status_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.newtable_id_status_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE public.newtable_id_status_seq OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 16542)
-- Name: sale_tovar; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sale_tovar (
    id_sale integer NOT NULL,
    id_tovar integer NOT NULL,
    amount integer
);


ALTER TABLE public.sale_tovar OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 16510)
-- Name: sales; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.sales (
    id_sale integer NOT NULL,
    date date
);


ALTER TABLE public.sales OWNER TO postgres;

--
-- TOC entry 207 (class 1259 OID 16492)
-- Name: sales_id_sale_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.sales_id_sale_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE public.sales_id_sale_seq OWNER TO postgres;

--
-- TOC entry 212 (class 1259 OID 16508)
-- Name: sales_id_sale_seq1; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.sales ALTER COLUMN id_sale ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.sales_id_sale_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 215 (class 1259 OID 16517)
-- Name: status; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.status (
    id_status integer NOT NULL,
    name_status character varying
);


ALTER TABLE public.status OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 16515)
-- Name: status_id_status_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.status ALTER COLUMN id_status ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.status_id_status_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 16527)
-- Name: tovar; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tovar (
    name_tovar character varying,
    cost real,
    image character varying,
    id_manufacturer integer,
    id_status integer,
    id_tovar integer NOT NULL,
    description character varying
);


ALTER TABLE public.tovar OWNER TO postgres;

--
-- TOC entry 271 (class 1259 OID 17307)
-- Name: tovar_dop; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tovar_dop (
    id_dop_tov integer NOT NULL,
    id_main_tov integer NOT NULL
);


ALTER TABLE public.tovar_dop OWNER TO postgres;

--
-- TOC entry 208 (class 1259 OID 16494)
-- Name: tovar_dop_id_main_dop_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.tovar_dop_id_main_dop_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE public.tovar_dop_id_main_dop_seq OWNER TO postgres;

--
-- TOC entry 209 (class 1259 OID 16496)
-- Name: tovar_id_tovar_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.tovar_id_tovar_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2147483647
    CACHE 1;


ALTER SEQUENCE public.tovar_id_tovar_seq OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 16525)
-- Name: tovar_id_tovar_seq1; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tovar ALTER COLUMN id_tovar ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tovar_id_tovar_seq1
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
    CYCLE
);


--
-- TOC entry 2887 (class 2606 OID 17331)
-- Name: dop_imgs dop_imgs_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.dop_imgs
    ADD CONSTRAINT dop_imgs_pk PRIMARY KEY (id_dop_img);


--
-- TOC entry 2875 (class 2606 OID 16507)
-- Name: manufacturer manufacturer_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.manufacturer
    ADD CONSTRAINT manufacturer_pk PRIMARY KEY (id_manufacturer);


--
-- TOC entry 2879 (class 2606 OID 16524)
-- Name: status newtable_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.status
    ADD CONSTRAINT newtable_pk PRIMARY KEY (id_status);


--
-- TOC entry 2883 (class 2606 OID 16546)
-- Name: sale_tovar sale_tovar_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sale_tovar
    ADD CONSTRAINT sale_tovar_pk PRIMARY KEY (id_sale, id_tovar);


--
-- TOC entry 2877 (class 2606 OID 16514)
-- Name: sales sales_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sales
    ADD CONSTRAINT sales_pk PRIMARY KEY (id_sale);


--
-- TOC entry 2885 (class 2606 OID 17311)
-- Name: tovar_dop tovar_dop_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tovar_dop
    ADD CONSTRAINT tovar_dop_pk PRIMARY KEY (id_main_tov, id_dop_tov);


--
-- TOC entry 2881 (class 2606 OID 16534)
-- Name: tovar tovar_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tovar
    ADD CONSTRAINT tovar_pk PRIMARY KEY (id_tovar);


--
-- TOC entry 2894 (class 2606 OID 17332)
-- Name: dop_imgs dop_imgs_tovar_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.dop_imgs
    ADD CONSTRAINT dop_imgs_tovar_fk FOREIGN KEY (id_tovar) REFERENCES public.tovar(id_tovar);


--
-- TOC entry 2890 (class 2606 OID 16580)
-- Name: sale_tovar sale_tovar_sales_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sale_tovar
    ADD CONSTRAINT sale_tovar_sales_fk FOREIGN KEY (id_sale) REFERENCES public.sales(id_sale);


--
-- TOC entry 2891 (class 2606 OID 16585)
-- Name: sale_tovar sale_tovar_tovar_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.sale_tovar
    ADD CONSTRAINT sale_tovar_tovar_fk FOREIGN KEY (id_tovar) REFERENCES public.tovar(id_tovar);


--
-- TOC entry 2892 (class 2606 OID 17312)
-- Name: tovar_dop tovar_dop_tovar_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tovar_dop
    ADD CONSTRAINT tovar_dop_tovar_fk FOREIGN KEY (id_dop_tov) REFERENCES public.tovar(id_tovar);


--
-- TOC entry 2893 (class 2606 OID 17317)
-- Name: tovar_dop tovar_dop_tovar_fk_1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tovar_dop
    ADD CONSTRAINT tovar_dop_tovar_fk_1 FOREIGN KEY (id_main_tov) REFERENCES public.tovar(id_tovar);


--
-- TOC entry 2888 (class 2606 OID 16555)
-- Name: tovar tovar_manufacturer_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tovar
    ADD CONSTRAINT tovar_manufacturer_fk FOREIGN KEY (id_manufacturer) REFERENCES public.manufacturer(id_manufacturer);


--
-- TOC entry 2889 (class 2606 OID 16560)
-- Name: tovar tovar_status_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tovar
    ADD CONSTRAINT tovar_status_fk FOREIGN KEY (id_status) REFERENCES public.status(id_status);


--
-- TOC entry 3027 (class 0 OID 0)
-- Dependencies: 10
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2024-09-27 07:57:24

--
-- PostgreSQL database dump complete
--

